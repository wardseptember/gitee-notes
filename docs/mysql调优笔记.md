# SQL及索引优化

## 有问题的SQL

1. 查询次数多且每次查询占用时间长得SQL
2. IO大的SQL
3. 未命中索引的SQL





 # 阿里面试

因为在阿里正式招聘系统打开之前，我已经线下面试了阿里系列的差不多15个部门了。后面确定了供应链的某个部门，前面两面问题更多的考察个人知识面的广度和深度。我贴上我面试的阿里云的一面和2面，再贴上供应链的三面、交叉面以及hr面吧。在敲定阿里之前，我先后拿下了滴滴、百度、京东的offer，最后才拿了阿里的offer，在这里，也希望自己吃水不忘挖井人，毕竟自己也是牛客网的受益者之一，感谢牛客网提供了那么的资源。希望自己的一点点面经可以帮助后面找实习的同学吧。 下面是面试阿里云的一面的内容，时间很长，大概将近两个小时： 下面会罗列面试的大概内容： 算法： （因为本人是研究无人驾驶车辆的轨迹预测，所以懂一点算法，有论文和多个发明专利，所以首先问的就是我的论文，以及我简历中罗列的算法问题，尤其是一些预测算法。） 1、简单说一下高斯模型 2、说一下你理解的支持向量机 3、线性回归和逻辑回归的区别 4、简单说一下你论文的思路，你是怎么提高预测精度的 5、哦，看你简历，你做过图像处理的项目，那你对opencv库的使用，熟练么？（还好，不太熟练）那你说说，如何将buffer类型转化为mat类型？mat有哪些构造函数？？ 比赛： （因为之前有参加华为的比赛，然后就是这个了） 6、那你简单叙述一下你的比赛，流程之类的，你主要做了什么？对于这次比赛，你觉得还有没有可以进一步提升的地方？比如？？ linux系统： 7、linux系统熟悉么？（熟悉）那你说说：如何查看进程？杀死进程？进程后台运行 8、top和ps的区别 9、如何查看内存使用情况？ 10、如何查看开机时间？ 11、复制文件？ 12、删除文件？ 13、移除文件都有哪些？说一下它们的区别？ 14、查看8000端口的占用情况？ 15、动态查看日志？ java：（因为那边需要不仅会预测算法的人，还需要具有后端研发能力的人，以java语言为主，所以这个问的比较多） 16、看你简历并没有太多是以java为主的项目啊，你能说一下你用java做过什么项目么？（说了一个小型大概的）。然后，最近有没有去学习框架?（有）什么框架？什么项目？在哪儿看的？来大概讲一下？ 17、知道JVM么？ 说一下分区？ 18、说一下类加载机制？过程？底层实现？ 19、new的对象是在哪儿？ 20、说一下线程？线程状态？ 21、知道GC么？说一下GC算法？GC算法的区别？优缺点？应用场景？ 22、说一下高并发？高耦合？高可用？ 23、说一下线程池的拒绝策略？ 24、说一下synchronized 锁升级？ 25、volatile作用？实现原理？ 26、说一下集合？区别？底层原理？各自优缺点？应用场景？ 27、知道什么java的什么框架么？（Spring），那你简单说一下？入口？ 28、说一下IOC？ 优缺点？ 29、AOP知道不？应用场景说一下？ 30、说一下反射机制？原理？ 31、说一下IO？ 32、字节流和字符流哪个好？怎么选择？ 33、说一下双亲委派模型？ 34、用过什么版本控制器？（用过git，了解SVN）那你说一下git的流程？ 数据结构： 35、简单说一下你知道的常用的数据结构？（好像就堆没有说。。。） 36、堆、你熟悉么？（知道），那你口述一下大根堆和小根堆的建立？ 37、说一下B树、B-树、B+树的定义和区分？ 38、口述创建一个无向图的邻接矩阵？ 数据库： 39、说一下索引？ 40、说一下redis？应用场景？ 41、什么是redis持久化？ 42、说一下回表操作？ 43、说以下表连接的操作？ 44、说一下最左匹配原则？ 计算机网络： 45、说一下http的底层实现？ 46、说一下tcp和udp的区别？应用场景？ 47、说一下http的请求过程？ 48、说一下tcp拥塞控制？udp有没有？ 49、TCP为什么需要3次握手，4次断开？ 50、状态码？ 说说几种常见的 操作系统： 51、说一下线程同步的方式： 52、用户态和核心态的区别： 53、死锁？死锁的必要条件？如何避免死锁？ 计算机组成原理： 54、在计算机系统结构中，什么是翻译？什么是解释？ 55、说一下页式管理和段式管理？分页和分段的区别？ 56、说一下你知道的进程调度策略？说一下SJF？优缺点？ 下面是阿里云2面的内容，较快。 阿里二面总结：（30分钟左右） 1、先自我介绍一下 2、然后看你简历，你在中科院实习是吧，那你讲一下你在那边实习，具体做了什么？ （因为在中科院做的是深度学习，所以问了一些深度学习和算法上面的东西） 3、因为简历中有比赛和项目，然后分别讲了一下项目和比赛 4、然后开始问现在有多个线程，你说一下如何实现？ 5、现在我需要将这些线程按照一定的顺序进行执行，那你说一下怎么办？设计一下， 6、那既然说到线程了，那你说一下进程之间通信的方式？ 7、这些通信方式，你有没有实际操作过？详细的内容是什么？ 8、既然说到进程了，现在我想知道某个进程的进程号？怎么办？Cpu利用率呢？（又拐到了linux上，完全不按照章程出牌。。） 9、那你再说说线程之间的通信方式？代码体现呢？ 9、那线程都有什么状态？怎么相互转换的？ 10、jvm的状态可以控制它么？怎么控制？？ 11、一个线程如何执行多个任务？（举例子） 12、多个线程如何按照一定的顺序进行执行任务？（举例子） 下面是将要去实习的部门，供应链部门的三面：（前面两面，因为时间紧张，又+身体那段时间不好，就没总结，但是和其它部门也差不了多少，其中笔试和测评就不说了，我线下面试一面和二面的时候，还在线做了三个编程题。） 1、先自我介绍、介绍项目、比赛、以及挑一个你的专利讲一讲 2、Hashmap知道么？说说底层原理？为什么用链表？链表起的作用是什么？ 3、怎么计算Hash位置的？如果先进来一个数是3，接着又进来一个数是4，两者的hash位置是一样的怎么办？会报错么？最后情况是怎么样的？为什么？ 4、问了笔试时做的题，又延伸了一下其它的问题。 5、Hashmap是线程安全的么？为什么不安全？那不安全了怎么办？该怎么解决呢?平时用的多么，多线程的情况使用hashmap会报错么？为什么？？（。。。不想说话啊....） 6、设计模式说一下？熟悉的，现实生活中给你一个实际场景，让你用来整一个设计模式。 7、淘宝页面请求的过程说一下？Web服务器底层一般用到什么jdk的类库？ 8、网络编程的地址解析过程详细说一下？ 9、平衡二叉树知道不？详细说一下高度证明 10、红黑树原理？ 11、http底层原理？ 12、Java分布式技术都有哪些？你常用的都有哪些？详细说一下。 13、B+树说一下，给你一个新数，场景，你来口述插入新数的过程。 14、有什么问题要问我的？ 下面是交叉面： 1、自我介绍，介绍项目、专利、论文 2、详细说一下。你的论文实验的实现过程，包括传进去的数的数据格式、形式，出来之后呢，怎么实现的？ 3、无人驾驶，百度是怎么做的？用的什么平台和方法，你觉得你和他们比呢。。。 （好了，我今天要问的问完了，我：啊。。就这么多啊，他：是的，前面该问的都问过了，刚才问的都是我感兴趣的点，做的项目不错，思路也不错。可以，其它不用了...我:谢谢谢.....） 再下面是hr面： 1、说下让你印象比较深刻的项目或者经历。（我说了两段印象比较深刻的项目经历研一研二各一个。然后面试管就说，好，你可以收拾行李回家了，我先告诉你结果，你被录取了！此刻一脸懵逼的我... 我说：没了？她说：不是，是接下来的面试不会影响这个最终通过的结果的。我说：为啥，她说:因为我被你感染到了，你在说技术的时候，你的眼里都是光，我在阿里做hr12年了，很少见到这种谈到技术眼里放光的同学。我都被感染了，这是你发自骨子里的热爱。所以，即使你的学校不怎么样，但是，我们愿意要你，让你从阿里重新脱胎换骨，重新开始！我：受宠若惊..其实并不知道她说的是什么光...只能说，谢谢谢谢....）接下来纯粹是唠嗑，了解我的过往.. 总结：我觉得我真的是lucky的。只是单纯的怀着感恩的心分享给大家。还想说一句话：生活中有过不完的坎，但是没有过不去的坎，所以，未来仍可期。加油！你们和我！







# 常问





通过网上的面经也能知道，问的问题，无非就是那些常问的问题，就算不一样，也只是换一种形式来问而已。

- 计算机网络：osi7层模式，对应协议有什么，都是干嘛的，建议把谢希仁的《计算机网络》传输层那一章好好看看，比如tcp的三次握手，四次挥手，流量控制，拥塞控制，看的时候，不能硬背，要自己理解，才不会忘记，而且在题目有变动的时候，也能应答如流。

- 操作系统：内存管理，进程调度，进程通信，linux常用命令。

- 数据库：事务（ACID）、三级范式（举例）、关联（join）、聚集函数、group by、order by、索引（b+树）、innodb与其他的区别（锁的粒度）

- 数据结构：（重头戏），除了广义表不需要重点看之外。《数据结构》严蔚敏
    线性表，尤其是链表（头插法、尾插法、删除、双链表、带头结点与不带、循环链表等）、栈、队列。
    哈弗曼树、二叉树、二叉排序树（删除、增加）、b树、b-树、b+树、b*树、红黑树、字典树、树的三种遍历（代码实现，递归与非递归）。
    图的遍历（dfs、bfs、递归与非递归）、拓扑排序、最小生成树（Dijkstra、Foyd、Prim、kruskal）。
    查找：常用的就二分查找了。
    排序：冒泡、插入（常用）、选择（常用）、快速（常用）、堆（常用）、归并（常用），希尔（不常用）、基数（不常用）

    **口诀：不稳定：快选希堆，其他则是稳定算法。**
    补充：
    KMP算法及改进BM算法[传送门](https://www.cnblogs.com/ZuoAndFutureGirl/p/9028287.html)
    并查集，用于求朋友的朋友问题（最小生成树个数）,[并查集](https://www.cnblogs.com/noKing/p/8018609.html)[并查集路径优化](https://blog.csdn.net/qq_19782019/article/details/78919990)
    三路快速排序（快排优化），[传送门](https://www.cnblogs.com/deng-tao/p/6536302.html)
    刷题：leetcode（top like100）

    

作者：左程云同桌
链接：https://www.nowcoder.com/discuss/327041?type=0&order=0&pos=6&page=3&channel=-2&source_id=discuss_tag
来源：牛客网

Java
Java基础倒是很少问，一般问源码层面问题，注意1.7和1.8的区别
1、《深入理解Java虚拟机》，最重要的是JMM（Java Memory Model）,我自己的建议就是从JMM为中心，开始向四周扩展，构建知识网。
**从JMM -> GC算法，GC Root的确定，线程逃逸问题，Java对象头（Synchronized实现原理），栈的原理，类加载机制问题，三级\**\*结构、内存屏障，即volatile关键字原理，线程调度等，全部可以从jmm发散，或者从某个点切入，也能讲到JMM。**
2、集合：HashMap、HashTable、ConcurrentHashmap、LinkedHashmap、TreeMap、TreeSet、ArrayList、LinkedList、PriorityLinkedList源码等等
3、锁：乐观锁（版本号（mysql通过多版本号来解决幻读问题），cas），悲观锁（AQS，AbstractOwnableSynchronizer是重点）、ReentrantLock、CountDownLatch、CyclicBarrier、读写锁等等，与synchronized的原理对比等。
4、多线程：线程几种实现方式，状态转换，ThreadPoolExecutor参数解析，执行流程。
5、六大原则：
单一职责原则（Single Responsibility Principle SRP）
开闭原则（Open Close Principle OCP）
里氏替换原则（Liskov Substitution Principle LSP）
依赖倒转原则（Dependence Inversion Principle DIP）
接口隔离原则（Interface Segregation Principle ISP）

迪米特原则 （Least Knowledge Principle LKP）
6、常用设计模式（手写单例模式）：工厂模式(bean)、***模式（aop）、观察者模式(消息发布订阅、dubbo)，说的这样都是在spring中可以联系起来的
Spring中常用的设计模式有哪些？
7、如何用线程打印abab问题，[传送门](https://blog.csdn.net/lsq_401/article/details/79766310)
8、海量数据问题：归并排序思想，[传送门](http://www.cocoachina.com/articles/30336)
**9、Spring mvc作为后端，讲述从前端请求到后端返回的全部流程，从dns解析到tcp建立连接，再到arp解析，再到反向\**\*，再到DispatchServlet、HandlerAdapter（通过HandlerMapping找到对应的requestmapping方法）、ModelAndView等，这个问题足以将基础和框架全部联系起来。**
10、反向***策略：轮询、随机、加权、最少连接、ip hash、dns最短等
11、四层***(lvs)和七层***（nginx）
12、分布式session问题
13、洗牌算法
14、zookeeper实现分布式锁，以及它的***过程等
15、Spring ioc的原理，aop的原理（jdk和cglib，与静态***AspectJ的区别）
16、Spring bean的是如何管理的？

17、在maven中如何出现了循环依赖问题，spring中的bean是如何注入的？
18、dubbo原理，架构图
19、一些常见的rpc框架，rpc和http有何区别
20、如何实现i++的原子操作，（加锁问题，volatile关键字(可见性（三级***缓存失效，通过对比自身数据）、有序性（内存屏障）)）
21、布隆过滤器
当然问题远远不止这么多，只是将一些我认为比较好的问题写了出来。

[面经](https://www.nowcoder.com/discuss/459561?type=2&channel=-2&source_id=discuss_terminal_discuss_jinghua)

